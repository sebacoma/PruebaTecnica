# Amplifica API - Test T√©cnico Laravel# Amplifica API - Test T√©cnico Laravel



## üìã Descripci√≥n## üìã Descripci√≥n



API REST desarrollada en Laravel 11 para la gesti√≥n de productos y pedidos, con integraci√≥n a la API externa de Amplifica para cotizaci√≥n de env√≠os. Este proyecto cumple con **todos los requerimientos** del test t√©cnico de Amplifica.API REST desarrollada en Laravel 11 para la gesti√≥n de productos y pedidos, con integraci√≥n a la API externa de Amplifica para cotizaci√≥n de env√≠os. Este proyecto cumple con **todos los requerimientos** del test t√©cnico de Amplifica.



### ‚úÖ Funcionalidades Implementadas### ‚úÖ Funcionalidades Implementadas



#### **Requerimientos Principales**#### **Requerimientos Principales**

- ‚úÖ **Modelo Producto**: CRUD completo con campos id, nombre, precio, peso, ancho, alto, largo, stock- ‚úÖ **Modelo Producto**: CRUD completo con campos id, nombre, precio, peso, ancho, alto, largo, stock

- ‚úÖ **Modelo Pedido**: Gesti√≥n completa con cliente_nombre, fecha, total y l√≠neas de detalle- ‚úÖ **Modelo Pedido**: Gesti√≥n completa con cliente_nombre, fecha, total y l√≠neas de detalle

- ‚úÖ **C√°lculo autom√°tico**: El total del pedido se recalcula autom√°ticamente- ‚úÖ **C√°lculo autom√°tico**: El total del pedido se recalcula autom√°ticamente

- ‚úÖ **Integraci√≥n API Externa**: Consumo completo de la API de Amplifica- ‚úÖ **Integraci√≥n API Externa**: Consumo completo de la API de Amplifica

- ‚úÖ **Manejo de JWT**: Obtenci√≥n, renovaci√≥n autom√°tica y cache de tokens- ‚úÖ **Manejo de JWT**: Obtenci√≥n, renovaci√≥n autom√°tica y cache de tokens



#### **Extras Implementados**#### **Extras Implementados**

- ‚úÖ **Docker**: Configuraci√≥n completa con docker-compose- ‚úÖ **Docker**: Configuraci√≥n completa con docker-compose

- ‚úÖ **Seeders**: Datos de ejemplo para productos- ‚úÖ **Seeders**: Datos de ejemplo para productos

- ‚úÖ **Validaciones robustas**: Form Requests con reglas de validaci√≥n- ‚úÖ **Validaciones robustas**: Form Requests con reglas de validaci√≥n

- ‚úÖ **Cache inteligente**: Redis para tokens JWT (55 segundos)- ‚úÖ **Cache inteligente**: Redis para tokens JWT (55 segundos)

- ‚úÖ **Manejo de errores**: Renovaci√≥n autom√°tica de tokens expirados- ‚úÖ **Manejo de errores**: Renovaci√≥n autom√°tica de tokens expirados

- ‚úÖ **Base de datos SQLite**: Para f√°cil configuraci√≥n y testing- ‚úÖ **Base de datos SQLite**: Para f√°cil configuraci√≥n y testing

- ‚úÖ **Configuraci√≥n flexible**: Variables de entorno para la API externa- ‚úÖ **Configuraci√≥n flexible**: Variables de entorno para la API externa



## üöÄ Instalaci√≥n y Configuraci√≥n## üöÄ Instalaci√≥n y Configuraci√≥n



### Opci√≥n 1: Con Docker (Recomendado)### Opci√≥n 1: Con Docker (Recomendado)



#### Prerrequisitos#### Prerrequisitos

- Docker Desktop- Docker Desktop

- Git- Git



#### Pasos de instalaci√≥n#### Pasos de instalaci√≥n



1. **Clonar el repositorio**1. **Clonar el repositorio**

```bash```bash

git clone https://github.com/sebacoma/PruebaTecnica.gitgit clone https://github.com/sebacoma/PruebaTecnica.git

cd PruebaTecnicacd PruebaTecnica

``````



2. **Configurar variables de entorno**2. **Configurar variables de entorno**

```bash```bash

cp .env.example .envcp .env.example .env

``````



3. **Configurar tu email en el archivo .env**3. **Configurar tu email en el archivo .env**

```bash```bash

# Edita el archivo .env y cambia:# Edita el archivo .env y cambia:

AMPLIFICA_API_USER=tu_correo@ejemplo.comAMPLIFICA_API_USER=tu_correo@ejemplo.com

``````



4. **Construir y levantar los contenedores**4. **Construir y levantar los contenedores**

```bash```bash

docker compose up --build -ddocker compose up --build -d

``````



5. **Instalar dependencias de PHP**5. **Instalar dependencias de PHP**

```bash```bash

docker compose exec app composer installdocker compose exec app composer install

``````



6. **Generar la clave de aplicaci√≥n**6. **Generar la clave de aplicaci√≥n**

```bash```bash

docker compose exec app php artisan key:generatedocker compose exec app php artisan key:generate

``````



7. **Ejecutar migraciones y seeders**7. **Ejecutar migraciones y seeders**

```bash```bash

docker compose exec app php artisan migrate --seeddocker compose exec app php artisan migrate --seed

``````



8. **Verificar que la API est√© funcionando**8. **Verificar que la API est√© funcionando**

- API: http://localhost:8000- API: http://localhost:8000

- Test: http://localhost:8000/api/v1/products- Test: http://localhost:8000/api/v1/products



### Opci√≥n 2: Instalaci√≥n Local



#### Prerrequisitos### ‚úÖ Funcionalidades Implementadas### Requisitos

- PHP 8.2+

- Composer- Docker Desktop

- Redis

- SQLite#### **Requerimientos Principales**- Git



#### Pasos de instalaci√≥n- ‚úÖ **Modelo Producto**: CRUD completo con campos id, nombre, precio, peso, ancho, alto, largo, stock



1. **Clonar e instalar dependencias**- ‚úÖ **Modelo Pedido**: Gesti√≥n completa con cliente_nombre, fecha, total y l√≠neas de detalle### Instalaci√≥n con Docker

```bash

git clone https://github.com/sebacoma/PruebaTecnica.git- ‚úÖ **C√°lculo autom√°tico**: El total del pedido se recalcula autom√°ticamente

cd PruebaTecnica

composer install- ‚úÖ **Integraci√≥n API Externa**: Consumo completo de la API de Amplifica1. **Clonar el repositorio**

```

- ‚úÖ **Manejo de JWT**: Obtenci√≥n, renovaci√≥n autom√°tica y cache de tokens```bash

2. **Configurar entorno**

```bashgit clone <repository-url>

cp .env.example .env

php artisan key:generate#### **Extras Implementados**cd amplifica-api

```

- ‚úÖ **Docker**: Configuraci√≥n completa con docker-compose```

3. **Configurar base de datos**

```bash- ‚úÖ **Seeders**: Datos de ejemplo para productos

touch database/database.sqlite

```- ‚úÖ **Validaciones robustas**: Form Requests con reglas de validaci√≥n2. **Configurar variables de entorno**



4. **Ejecutar migraciones y seeders**- ‚úÖ **Cache inteligente**: Redis para tokens JWT (55 segundos)```bash

```bash

php artisan migrate --seed- ‚úÖ **Manejo de errores**: Renovaci√≥n autom√°tica de tokens expiradoscp .env.example .env

```

- ‚úÖ **Base de datos SQLite**: Para f√°cil configuraci√≥n y testing```

5. **Iniciar servidor**

```bash- ‚úÖ **Configuraci√≥n flexible**: Variables de entorno para la API externa

php artisan serve

```Editar el archivo `.env` y configurar:



## üìö Documentaci√≥n de la API## üöÄ Instalaci√≥n y Configuraci√≥n```bash



### Base URLAMPLIFICA_API_USER=tu_correo@ejemplo.com

- **Docker**: `http://localhost:8000`

- **Local**: `http://localhost:8000`### Opci√≥n 1: Con Docker (Recomendado)AMPLIFICA_API_PASS=12345



### Endpoints Disponibles```



#### üè™ **Productos**#### Prerrequisitos

```http

GET    /api/v1/products           # Listar productos (paginado)- Docker Desktop3. **Construir y ejecutar con Docker Compose**

POST   /api/v1/products           # Crear producto

GET    /api/v1/products/{id}      # Obtener producto espec√≠fico- Git```bash

PUT    /api/v1/products/{id}      # Actualizar producto

DELETE /api/v1/products/{id}      # Eliminar productodocker-compose up -d --build

```

#### Pasos de instalaci√≥n```

**Estructura de Producto:**

```json

{

  "id": 1,1. **Clonar el repositorio**4. **Instalar dependencias**

  "nombre": "Caja S",

  "precio": 1200.00,```bash```bash

  "peso": 0.50,

  "ancho": 10.00,git clone [URL_DEL_REPOSITORIO]docker-compose exec app composer install

  "alto": 5.00,

  "largo": 15.00,cd amplifica-api```

  "stock": 50,

  "created_at": "2025-10-31T10:00:00.000000Z",```

  "updated_at": "2025-10-31T10:00:00.000000Z"

}5. **Generar clave de aplicaci√≥n**

```

2. **Configurar variables de entorno**```bash

#### üì¶ **Pedidos**

```http```bashdocker-compose exec app php artisan key:generate

GET    /api/v1/orders             # Listar pedidos

POST   /api/v1/orders             # Crear pedidocp .env.example .env```

GET    /api/v1/orders/{id}        # Obtener pedido con detalles

DELETE /api/v1/orders/{id}        # Eliminar pedido```

```

6. **Ejecutar migraciones y seeders**

**Crear Pedido:**

```json3. **Configurar tu email en el archivo .env**```bash

{

  "cliente_nombre": "Juan P√©rez",```bashdocker-compose exec app php artisan migrate:fresh --seed

  "fecha": "2025-10-31",

  "detalles": [# Edita el archivo .env y cambia:```

    {

      "product_id": 1,AMPLIFICA_API_USER=tu_correo@ejemplo.com

      "cantidad": 2

    },```7. **Acceder a la aplicaci√≥n**

    {

      "product_id": 2,- API: http://localhost:8000

      "cantidad": 1

    }4. **Construir y levantar los contenedores**

  ]

}```bash## üìö Endpoints Disponibles

```

docker compose up --build -d

#### üöö **Cotizaci√≥n de Env√≠os**

```http```### Productos

POST   /api/v1/cotizar-envio      # Cotizar env√≠o

```- `GET /api/v1/products` - Listar productos (paginado)



**Cotizar con productos de la base de datos:**5. **Generar la clave de aplicaci√≥n**- `GET /api/v1/products/{id}` - Ver producto espec√≠fico

```json

{```bash- `POST /api/v1/products` - Crear producto

  "comuna": "Providencia",

  "items": [docker compose exec app php artisan key:generate- `PUT /api/v1/products/{id}` - Actualizar producto

    {

      "product_id": 1,```- `DELETE /api/v1/products/{id}` - Eliminar producto

      "quantity": 2

    }

  ]

}6. **Ejecutar migraciones y seeders****Ejemplo crear producto:**

```

```bash```json

## üîß Configuraci√≥n

docker compose exec app php artisan migrate --seedPOST /api/v1/products

### Variables de Entorno Principales

```{

```bash

# Aplicaci√≥n    "nombre": "Caja XL",

APP_NAME=AmplificaAPI

APP_URL=http://localhost:8000### Opci√≥n 2: Instalaci√≥n Local    "precio": 5500,



# Base de Datos (SQLite por defecto)    "peso": 3.5,

DB_CONNECTION=sqlite

#### Prerrequisitos    "ancho": 35,

# Redis (para cache de tokens)

REDIS_HOST=redis  # 'redis' para Docker, '127.0.0.1' para local- PHP 8.2+    "alto": 20,

CACHE_STORE=redis

- Composer    "largo": 50,

# API Externa Amplifica

AMPLIFICA_API_BASE=https://postulaciones.amplifica.io- Redis    "stock": 15

AMPLIFICA_API_USER=tu_correo@ejemplo.com

AMPLIFICA_API_PASS=12345- SQLite}

```

```

## üß™ Testing

#### Pasos de instalaci√≥n

### Probar la API

### Pedidos

1. **Verificar que la aplicaci√≥n est√© corriendo**

```bash1. **Clonar e instalar dependencias**- `GET /api/v1/orders` - Listar pedidos

curl http://localhost:8000/api/v1/products

``````bash- `GET /api/v1/orders/{id}` - Ver pedido espec√≠fico



2. **Crear un producto**git clone [URL_DEL_REPOSITORIO]- `POST /api/v1/orders` - Crear pedido

```bash

curl -X POST http://localhost:8000/api/v1/products \cd amplifica-api- `DELETE /api/v1/orders/{id}` - Eliminar pedido

  -H "Content-Type: application/json" \

  -d '{composer install

    "nombre": "Producto Test",

    "precio": 1500,```**Ejemplo crear pedido:**

    "peso": 0.8,

    "ancho": 12,```json

    "alto": 8,

    "largo": 20,2. **Configurar entorno**POST /api/v1/orders

    "stock": 25

  }'```bash{

```

cp .env.example .env    "cliente_nombre": "Juan P√©rez",

3. **Crear un pedido**

```bashphp artisan key:generate    "fecha": "2025-10-31T10:00:00",

curl -X POST http://localhost:8000/api/v1/orders \

  -H "Content-Type: application/json" \```    "detalles": [

  -d '{

    "cliente_nombre": "Test Cliente",        {

    "fecha": "2025-10-31",

    "detalles": [3. **Configurar base de datos**            "product_id": 1,

      {

        "product_id": 1,```bash            "cantidad": 2

        "cantidad": 2

      }touch database/database.sqlite        },

    ]

  }'```        {

```

            "product_id": 2,

## üõ†Ô∏è Comandos √ötiles

4. **Ejecutar migraciones y seeders**            "cantidad": 1

### Con Docker

```bash        }

```bash

# Ver logs de la aplicaci√≥nphp artisan migrate --seed    ]

docker compose logs app

```}

# Acceder al contenedor

docker compose exec app bash```



# Ejecutar comandos de Laravel5. **Iniciar servidor**

docker compose exec app php artisan [comando]

```bash### Cotizaci√≥n de Env√≠o

# Reiniciar servicios

docker compose restartphp artisan serve- `POST /api/v1/cotizar-envio` - Cotizar env√≠o



# Parar y limpiar```

docker compose down

```**Ejemplo cotizaci√≥n con productos existentes:**



## üìÅ Estructura del Proyecto## üìö Documentaci√≥n de la API```json



```POST /api/v1/cotizar-envio

amplifica-api/

‚îú‚îÄ‚îÄ app/### Base URL{

‚îÇ   ‚îú‚îÄ‚îÄ Http/

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Controllers/Api/- **Docker**: `http://localhost:8000`    "comuna": "Providencia",

‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductController.php

‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderController.php- **Local**: `http://localhost:8000`    "items": [

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ShippingController.php

‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Requests/        {

‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ StoreProductRequest.php

‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ UpdateProductRequest.php### Endpoints Disponibles            "product_id": 1,

‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ StoreOrderRequest.php

‚îÇ   ‚îú‚îÄ‚îÄ Models/            "quantity": 2

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Product.php

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Order.php#### üè™ **Productos**        }

‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ OrderDetail.php

‚îÇ   ‚îî‚îÄ‚îÄ Services/```http    ]

‚îÇ       ‚îî‚îÄ‚îÄ ShippingQuoteService.php

‚îú‚îÄ‚îÄ database/GET    /api/v1/products           # Listar productos (paginado)}

‚îÇ   ‚îú‚îÄ‚îÄ migrations/

‚îÇ   ‚îî‚îÄ‚îÄ seeders/POST   /api/v1/products           # Crear producto```

‚îú‚îÄ‚îÄ docker-compose.yml

‚îú‚îÄ‚îÄ DockerfileGET    /api/v1/products/{id}      # Obtener producto espec√≠fico

‚îî‚îÄ‚îÄ README.md

```PUT    /api/v1/products/{id}      # Actualizar producto**Ejemplo cotizaci√≥n con productos personalizados:**



## üö¶ Cumplimiento de RequerimientosDELETE /api/v1/products/{id}      # Eliminar producto```json



### ‚úÖ **Requerimientos Principales (100% Completados)**```POST /api/v1/cotizar-envio



#### Modelo Producto ‚úÖ{

- [x] **Campos**: id, nombre, precio, peso, ancho, alto, largo, stock

- [x] **CRUD completo**: crear, listar, actualizar, eliminar**Estructura de Producto:**    "comuna": "Las Condes",

- [x] **Validaciones**: no precios/stocks negativos

```json    "products": [

#### Modelo Pedido ‚úÖ

- [x] **Campos**: id, cliente_nombre, fecha, total{        {

- [x] **L√≠neas de productos**: pedido_detalles con cantidad y precio

- [x] **C√°lculo autom√°tico**: total se recalcula autom√°ticamente  "id": 1,            "weight": 1.5,



#### Integraci√≥n API Externa ‚úÖ  "nombre": "Caja S",            "quantity": 1

- [x] **POST /auth**: obtenci√≥n de token JWT

- [x] **GET /regionalConfig**: regiones y comunas disponibles  "precio": 1200.00,        }

- [x] **POST /getRate**: cotizaci√≥n de tarifas

- [x] **Renovaci√≥n autom√°tica**: tokens expirados se renuevan  "peso": 0.50,    ]

- [x] **Endpoint local**: POST /cotizar-envio implementado

- [x] **Manejo de errores**: autenticaci√≥n y conexi√≥n  "ancho": 10.00,}



### üéØ **Extras Opcionales Implementados**  "alto": 5.00,```



- [x] **Seeders**: Datos de ejemplo precargados  "largo": 15.00,

- [x] **Dockerfile**: Configuraci√≥n de contenedores

- [x] **Documentaci√≥n**: README detallado con ejemplos  "stock": 50,## üèóÔ∏è Arquitectura y Caracter√≠sticas

- [x] **Validaciones robustas**: Form Requests

- [x] **Arquitectura limpia**: Services y separaci√≥n de responsabilidades  "created_at": "2025-10-31T10:00:00.000000Z",

- [x] **Cache**: Gesti√≥n inteligente de tokens JWT

- [x] **Logs estructurados**: Seguimiento de peticiones API  "updated_at": "2025-10-31T10:00:00.000000Z"### Implementado ‚úÖ

- [x] **Manejo de errores**: Retry autom√°tico y error handling

}- **Modelos**: Product, Order, OrderDetail con relaciones

## üé® Frontend Complementario

```- **CRUD completo** para productos

### üöÄ **Interfaz Web Disponible**

- **Gesti√≥n de pedidos** con c√°lculo autom√°tico de totales

Este proyecto incluye un **frontend moderno desarrollado en React + Vite** que consume toda la funcionalidad de esta API:

#### üì¶ **Pedidos**- **Integraci√≥n API externa** con autenticaci√≥n JWT y renovaci√≥n autom√°tica

**üìÇ Repositorio Frontend:** https://github.com/sebacoma/PruebaTecnicaFrontend

```http- **Validaciones** con Form Requests

### ‚ú® **Caracter√≠sticas del Frontend:**

- ‚úÖ **Dashboard interactivo** con navegaci√≥n modernaGET    /api/v1/orders             # Listar pedidos- **Seeders** con datos de ejemplo

- ‚úÖ **CRUD de productos** con modales y validaciones

- ‚úÖ **Sistema de pedidos** completo e intuitivoPOST   /api/v1/orders             # Crear pedido- **Manejo de errores** de autenticaci√≥n y conexi√≥n

- ‚úÖ **Cotizaci√≥n de env√≠os** integrada

- ‚úÖ **Dise√±o responsive** para todos los dispositivosGET    /api/v1/orders/{id}        # Obtener pedido con detalles

- ‚úÖ **React Router** para navegaci√≥n fluida

DELETE /api/v1/orders/{id}        # Eliminar pedido### Caracter√≠sticas T√©cnicas

### üöÄ **Instalaci√≥n R√°pida del Frontend:**

```bash```- **Base de datos**: SQLite (configurable a MySQL/PostgreSQL)

git clone https://github.com/sebacoma/PruebaTecnicaFrontend.git

cd PruebaTecnicaFrontend- **Autenticaci√≥n API externa**: JWT con cache y renovaci√≥n autom√°tica

npm install && npm run dev

```**Crear Pedido:**- **Validaciones**: Form Requests con reglas de negocio



### üîó **Integraci√≥n Completa:**```json- **Arquitectura**: Servicios separados para integraciones externas

El frontend est√° completamente integrado con esta API y permite:

- Gestionar productos desde una interfaz amigable{- **Docker**: Configuraci√≥n completa para desarrollo

- Crear y visualizar pedidos con c√°lculos autom√°ticos

- Cotizar env√≠os con la API externa de Amplifica  "cliente_nombre": "Juan P√©rez",

- Navegar entre todas las funcionalidades de forma intuitiva

  "fecha": "2025-10-31",## üß™ Testing

**üí° Nota:** El frontend es un **extra no requerido** en el test t√©cnico, desarrollado para demostrar capacidades full-stack y ofrecer una experiencia completa del sistema.

  "detalles": [

## ü§ù Desarrollo y IA

    {Para ejecutar los tests:

### Uso de Herramientas de IA

Este proyecto fue desarrollado con asistencia de **GitHub Copilot** para:      "product_id": 1,```bash

- ‚úÖ Generaci√≥n de boilerplate code y estructura inicial

- ‚úÖ Optimizaci√≥n de consultas y validaciones      "cantidad": 2docker-compose exec app php artisan test

- ‚úÖ Documentaci√≥n completa y ejemplos de uso

- ‚úÖ Patrones de arquitectura y mejores pr√°cticas    },```

- ‚úÖ Manejo de errores y casos edge

- ‚úÖ Testing y validaci√≥n de funcionalidades    {



La IA fue utilizada como herramienta de **productividad y calidad**, manteniendo siempre el control sobre las decisiones t√©cnicas y arquitecturales del proyecto.      "product_id": 2,## üìù Datos de Ejemplo



---      "cantidad": 1



**‚ú® Proyecto desarrollado para Amplifica - Test T√©cnico 2025**      }El seeder incluye 3 productos de ejemplo:

**üöÄ Tecnolog√≠as:** Laravel 11, Docker, SQLite, Redis, GuzzleHTTP  

**üìß Contacto:** A trav√©s del repositorio GitHub  ]- Caja S: $1,200 - 0.5kg - 10x5x15cm

}- Caja M: $2,500 - 1.2kg - 20x10x25cm  

```- Caja L: $4,500 - 2.8kg - 30x15x40cm



**Respuesta Pedido:**## üîß Comandos √ötiles

```json

{```bash

  "id": 1,# Ver logs de la aplicaci√≥n

  "cliente_nombre": "Juan P√©rez",docker-compose logs -f app

  "fecha": "2025-10-31T00:00:00.000000Z",

  "total": 3900.00,# Acceder al contenedor

  "created_at": "2025-10-31T10:00:00.000000Z",docker-compose exec app bash

  "detalles": [

    {# Limpiar cache

      "id": 1,docker-compose exec app php artisan cache:clear

      "order_id": 1,

      "product_id": 1,# Ver rutas disponibles

      "cantidad": 2,docker-compose exec app php artisan route:list

      "precio_unitario": 1200.00,```

      "product": {

        "id": 1,## üö¶ Estado del Proyecto

        "nombre": "Caja S"

      }### ‚úÖ Requerimientos Cumplidos

    }- [x] Modelo Producto con todos los campos requeridos

  ]- [x] CRUD completo de productos con validaciones

}- [x] Modelo Pedido con l√≠neas de detalle

```- [x] C√°lculo autom√°tico de totales

- [x] Integraci√≥n con API externa de cotizaciones

#### üöö **Cotizaci√≥n de Env√≠os**- [x] Manejo de autenticaci√≥n JWT con renovaci√≥n

```http- [x] Endpoint de cotizaci√≥n local

POST   /api/v1/cotizar-envio      # Cotizar env√≠o- [x] Seeders con datos de ejemplo

```- [x] Configuraci√≥n Docker



**Cotizar con productos de la base de datos:**### üéØ Extras Implementados

```json- Cache de tokens JWT

{- Manejo robusto de errores de API

  "comuna": "Providencia",- Configuraci√≥n flexible de servicios

  "items": [- Documentaci√≥n completa

    {

      "product_id": 1,---

      "quantity": 2

    }**Desarrollado por:** Sebastian Concha Mac√≠as  

  ]**Tecnolog√≠as:** Laravel 11, Docker, SQLite, GuzzleHTTP

}
```

**Cotizar con productos personalizados:**
```json
{
  "comuna": "Providencia",
  "products": [
    {
      "weight": 1.5,
      "quantity": 1
    }
  ]
}
```

**Respuesta Cotizaci√≥n:**
```json
{
  "payload": {
    "comuna": "Providencia",
    "products": [
      {
        "weight": 1.0,
        "quantity": 2
      }
    ]
  },
  "tarifas": [
    {
      "carrier": "Chilexpress",
      "service": "D√≠a h√°bil siguiente",
      "price": 3500
    }
  ]
}
```

## üîß Configuraci√≥n

### Variables de Entorno Principales

```bash
# Aplicaci√≥n
APP_NAME=AmplificaAPI
APP_URL=http://localhost:8000

# Base de Datos (SQLite por defecto)
DB_CONNECTION=sqlite

# Redis (para cache de tokens)
REDIS_HOST=redis  # 'redis' para Docker, '127.0.0.1' para local
CACHE_STORE=redis

# API Externa Amplifica
AMPLIFICA_API_BASE=https://postulaciones.amplifica.io
AMPLIFICA_API_USER=tu_correo@ejemplo.com
AMPLIFICA_API_PASS=12345
```

## üß™ Testing

### Probar la API

1. **Verificar que la aplicaci√≥n est√© corriendo**
```bash
curl http://localhost:8000/api/v1/products
```

2. **Crear un producto**
```bash
curl -X POST http://localhost:8000/api/v1/products \
  -H "Content-Type: application/json" \
  -d '{
    "nombre": "Producto Test",
    "precio": 1500,
    "peso": 0.8,
    "ancho": 12,
    "alto": 8,
    "largo": 20,
    "stock": 25
  }'
```

3. **Crear un pedido**
```bash
curl -X POST http://localhost:8000/api/v1/orders \
  -H "Content-Type: application/json" \
  -d '{
    "cliente_nombre": "Test Cliente",
    "fecha": "2025-10-31",
    "detalles": [
      {
        "product_id": 1,
        "cantidad": 2
      }
    ]
  }'
```

4. **Cotizar env√≠o**
```bash
curl -X POST http://localhost:8000/api/v1/cotizar-envio \
  -H "Content-Type: application/json" \
  -d '{
    "comuna": "Providencia",
    "items": [
      {
        "product_id": 1,
        "quantity": 1
      }
    ]
  }'
```

## üìÅ Estructura del Proyecto

```
amplifica-api/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ Http/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Controllers/Api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductController.php
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderController.php
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ShippingController.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Requests/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ StoreProductRequest.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ UpdateProductRequest.php
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ StoreOrderRequest.php
‚îÇ   ‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Product.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Order.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ OrderDetail.php
‚îÇ   ‚îî‚îÄ‚îÄ Services/
‚îÇ       ‚îî‚îÄ‚îÄ ShippingQuoteService.php
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îî‚îÄ‚îÄ seeders/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ README.md
```

## üõ†Ô∏è Comandos √ötiles

### Con Docker

```bash
# Ver logs de la aplicaci√≥n
docker compose logs app

# Acceder al contenedor
docker compose exec app bash

# Ejecutar comandos de Laravel
docker compose exec app php artisan [comando]

# Reiniciar servicios
docker compose restart

# Parar y limpiar
docker compose down
```

### Comandos Laravel

```bash
# Limpiar cache
php artisan cache:clear
php artisan config:clear

# Ver rutas disponibles
php artisan route:list

# Ejecutar migraciones frescas
php artisan migrate:fresh --seed

# Generar nueva clave
php artisan key:generate
```

## üîç Caracter√≠sticas T√©cnicas

### Arquitectura
- **Laravel 11**: Framework PHP moderno
- **SQLite**: Base de datos ligera y port√°til
- **Redis**: Cache para tokens JWT y sesiones
- **Guzzle HTTP**: Cliente para API externa
- **Form Requests**: Validaciones robustas

### Patrones Implementados
- **Repository Pattern**: Separaci√≥n de l√≥gica de negocio
- **Service Layer**: ShippingQuoteService para API externa  
- **Observer Pattern**: Rec√°lculo autom√°tico de totales
- **Cache Strategy**: Gesti√≥n inteligente de tokens JWT

### Seguridad
- **Validaciones**: Form Requests con reglas estrictas
- **Sanitizaci√≥n**: Protecci√≥n contra inyecci√≥n SQL
- **Token Management**: Renovaci√≥n autom√°tica de JWT
- **Error Handling**: Manejo seguro de excepciones

## üöÄ Despliegue en Producci√≥n

### Configuraciones Recomendadas

1. **Variables de entorno de producci√≥n**
```bash
APP_ENV=production
APP_DEBUG=false
DB_CONNECTION=mysql  # o postgresql
CACHE_STORE=redis
QUEUE_CONNECTION=redis
```

2. **Optimizaciones**
```bash
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

3. **Monitoreo**
- Logs estructurados disponibles en `storage/logs/`
- M√©tricas de API externa trackeadas
- Cache hits/misses monitoreables

## üìù Datos de Ejemplo

El seeder incluye 3 productos de ejemplo:
- **Caja S**: $1,200 - 0.5kg - 10√ó5√ó15cm - Stock: 50
- **Caja M**: $2,500 - 1.2kg - 20√ó10√ó25cm - Stock: 35  
- **Caja L**: $4,500 - 2.8kg - 30√ó15√ó40cm - Stock: 20

## üö¶ Cumplimiento de Requerimientos

### ‚úÖ **Requerimientos Principales (100% Completados)**

#### Modelo Producto ‚úÖ
- [x] **Campos**: id, nombre, precio, peso, ancho, alto, largo, stock
- [x] **CRUD completo**: crear, listar, actualizar, eliminar
- [x] **Validaciones**: no precios/stocks negativos

#### Modelo Pedido ‚úÖ
- [x] **Campos**: id, cliente_nombre, fecha, total
- [x] **L√≠neas de productos**: pedido_detalles con cantidad y precio
- [x] **C√°lculo autom√°tico**: total se recalcula autom√°ticamente

#### Integraci√≥n API Externa ‚úÖ
- [x] **POST /auth**: obtenci√≥n de token JWT
- [x] **GET /regionalConfig**: regiones y comunas disponibles
- [x] **POST /getRate**: cotizaci√≥n de tarifas
- [x] **Renovaci√≥n autom√°tica**: tokens expirados se renuevan
- [x] **Endpoint local**: POST /cotizar-envio implementado
- [x] **Manejo de errores**: autenticaci√≥n y conexi√≥n

### üéØ **Extras Opcionales Implementados**

- [x] **Seeders**: Datos de ejemplo precargados
- [x] **Dockerfile**: Configuraci√≥n de contenedores
- [x] **Documentaci√≥n**: README detallado con ejemplos
- [x] **Validaciones robustas**: Form Requests
- [x] **Arquitectura limpia**: Services y separaci√≥n de responsabilidades
- [x] **Cache**: Gesti√≥n inteligente de tokens JWT
- [x] **Logs estructurados**: Seguimiento de peticiones API
- [x] **Manejo de errores**: Retry autom√°tico y error handling

## üé® Frontend Complementario

### üöÄ **Interfaz Web Disponible**

Este proyecto incluye un **frontend moderno desarrollado en React + Vite** que consume toda la funcionalidad de esta API:

**üìÇ Repositorio Frontend:** https://github.com/sebacoma/PruebaTecnicaFrontend

### ‚ú® **Caracter√≠sticas del Frontend:**
- ‚úÖ **Dashboard interactivo** con navegaci√≥n moderna
- ‚úÖ **CRUD de productos** con modales y validaciones
- ‚úÖ **Sistema de pedidos** completo e intuitivo
- ‚úÖ **Cotizaci√≥n de env√≠os** integrada
- ‚úÖ **Dise√±o responsive** para todos los dispositivos
- ‚úÖ **React Router** para navegaci√≥n fluida

### üõ†Ô∏è **Tecnolog√≠as Frontend:**
- **React 18** + **Vite** para desarrollo r√°pido
- **Axios** para consumo de API
- **React Router** para navegaci√≥n
- **Heroicons** para iconograf√≠a
- **CSS personalizado** sin frameworks pesados

### üöÄ **Instalaci√≥n R√°pida del Frontend:**
```bash
git clone https://github.com/sebacoma/PruebaTecnicaFrontend.git
cd PruebaTecnicaFrontend
npm install && npm run dev
```

### üîó **Integraci√≥n Completa:**
El frontend est√° completamente integrado con esta API y permite:
- Gestionar productos desde una interfaz amigable
- Crear y visualizar pedidos con c√°lculos autom√°ticos
- Cotizar env√≠os con la API externa de Amplifica
- Navegar entre todas las funcionalidades de forma intuitiva

**üí° Nota:** El frontend es un **extra no requerido** en el test t√©cnico, desarrollado para demostrar capacidades full-stack y ofrecer una experiencia completa del sistema.

## ü§ù Desarrollo y IA

### Uso de Herramientas de IA
Este proyecto fue desarrollado con asistencia de **GitHub Copilot** para:
- ‚úÖ Documentaci√≥n completa y ejemplos de uso
- ‚úÖ Patrones de arquitectura y mejores pr√°cticas
- ‚úÖ Manejo de errores y casos edge
- ‚úÖ Testing y validaci√≥n de funcionalidades

La IA fue utilizada como herramienta de **productividad y calidad**, manteniendo siempre el control sobre las decisiones t√©cnicas y arquitecturales del proyecto.

---

**‚ú® Proyecto desarrollado para Amplifica - Test T√©cnico 2025**  
**üöÄ Tecnolog√≠as:** Laravel 11, Docker, SQLite, Redis, GuzzleHTTP  
**üìß Contacto:** A trav√©s del repositorio GitHub
